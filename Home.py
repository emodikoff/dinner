import streamlit as st
from send_mail import send_mail

title = st.title("–ò–∑–Ω–µ–Ω–∞–¥–∞ –≤–µ—á–µ—Ä—è üçΩÔ∏è")
answer = st.selectbox(
    "–ó–¥—Ä–∞–≤–µ–π –°–∏–ª–≤–∏ ‚òÄÔ∏è! –ù–∞–π-–æ—Ñ–∏—Ü–∏–∞–ª–Ω–æ –∏—Å–∫–∞–º –¥–∞ —Ç–µ –ø–æ–∫–∞–Ω—è –Ω–∞ –≤–µ—á–µ—Ä—è –∫–æ—è—Ç–æ —Ç–∏ —Å–ª–µ–¥–≤–∞ –¥–∞ –∏–∑–±–µ—Ä–µ—à. üòä \n"
    " –ü—Ä–∏–µ–º–∞—à –ª–∏ –º–æ–µ—Ç–æ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ ?", ("", "–î–∞", "–ù–µ"))
if answer == "–ù–µ":
    st.info("–õ–æ—à–æ, –ª–æ—à–æ –∏–∑–≥–ª–µ–∂–¥–∞ —Å–∏ –∏–∑–±—Ä–∞–ª–∞ –≥—Ä–µ—à–µ–Ω –æ—Ç–≥–æ–≤–æ—Ä, –æ–ø–∏—Ç–∞–π –ø–∞–∫. ü•≤")
elif answer == "–î–∞":
    st.write("–©–æ–º —Å–∏ —Å—Ç–∏–≥–Ω–∞–ª–∞ –¥–æ—Ç—É–∫ –∑–Ω–∞—á–∏ –Ω–µ—â–∞—Ç–∞ —Å–µ –ø–æ–¥–æ–±—Ä–∞–≤—è—Ç üòá")
    food = st.selectbox("–ö–∞–∫–≤–æ —Ç–∏ —Å–µ —Ö–∞–ø–≤–∞?",
                        ("",
                         "–ò—Ç–∞–ª–∏–∞–Ω—Å–∫–æ üáÆüáπ",
                         "–ì—ä–∑–∞—Ä—Å–∫–æ –∏ –ª—É–∫—Å–æ–∑–Ω–æ üíé",
                         "–ù–µ—â–æ –∫–ª–∞—Å–∏—á–µ—Å–∫–æ –∏ —Å–∫—É—á–Ω–æ üòí",
                         "–ù–µ—â–æ —Å–ø–µ—Ü–∏–∞–ª–Ω–æ –ø—Ä–∏–≥–æ—Ç–≤–µ–Ω–æ –æ—Ç –º–µ–Ω –∑–∞ —Ç–µ–± ü§î"))
    if food:
        date = st.selectbox(
            "–ú–æ–ª—è –∏–∑–±–µ—Ä–∏ –¥–∞—Ç–∞ –≤ –∫–æ—è—Ç–æ –±–∏ —Ç–∏ –±–∏–ª–æ —É–¥–æ–±–Ω–æ –¥–∞ —Å–µ —Å—ä—Å—Ç–æ–∏: ",
            ("", "18.12", "19.12", "20.12", "21.12", "22.12"))

        if date:
            time = st.selectbox(
                "–û—Å—Ç–∞–Ω–∞ —Å–∞–º–æ –¥–∞ –∏–∑–±–µ—Ä–µ—à —á–∞—Å –∏ –≤—Å–∏—á–∫–æ –µ –≥–æ—Ç–æ–≤–æ ",
                ("", "19:00", "19:30", "20:00", "20:30", "21:00"))

            if time:
                message = st.text_area(
                    "–ê–∫–æ –∏—Å–∫–∞—à –¥–∞ –º–∏ –∫–∞–∂–µ—à –Ω–µ—â–æ —Ç—É–∫ —Ç–∏ e —à–∞–Ω—Å—ä—Ç üòÑ: ")

                if st.button("–ò–∑–ø—Ä–∞—Ç–∏"):
                    body = (f"–¢—è –∏–∑–±—Ä–∞ {food} –Ω–∞ {date} –≤ {time}. \n"
                            f"–°—ä–æ–±—â–µ–Ω–∏–µ –æ—Ç –Ω–µ—è: {message}")
                    send_mail("–û—Ç–≥–æ–≤–æ—Ä", body)

                    if food == "–ù–µ—â–æ —Å–ø–µ—Ü–∏–∞–ª–Ω–æ –ø—Ä–∏–≥–æ—Ç–≤–µ–Ω–æ –æ—Ç –º–µ–Ω –∑–∞ —Ç–µ–± ü§î":
                        st.success("–£—Ñ—Ñ —Å–µ–≥–∞ —â–µ —Ç—Ä—è–±–≤–∞ –¥–∞ —á–∏—Å—Ç—è üòÜ. \n "
                                   f"–û—á–∞–∫–≤–∞–º —Ç–µ –≤ –Ω–∞—Å –Ω–∞ {date} –≤ {time}")
                    else:
                        st.success(
                            "–ë–ª–∞–≥–æ–¥–∞—Ä—è, –∫–∞—Ç–æ –ø–ª–∞–Ω–∏—Ä–∞–Ω–æ –≤—Å–∏—á–∫–æ —â–µ —Ç–µ —É–≤–µ–¥–æ–º—è"
                            ", o—á–∞–∫–≤–∞–π –∏–∑–Ω–µ–Ω–∞–¥–∞. ü•≥")
